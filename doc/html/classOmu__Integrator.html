<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>HQP: Omu_Integrator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HQP
   &#160;<span id="projectnumber">1.9.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classOmu__Integrator.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classOmu__Integrator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Omu_Integrator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for a solver for differential (algebraic) equations.  
 <a href="classOmu__Integrator.html#details">More...</a></p>

<p><code>#include &lt;Omu_Integrator.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Omu_Integrator:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classOmu__Integrator__inherit__graph.svg" width="776" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1e7bb98e20df9a90c6f2e10a4ea83b27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e7bb98e20df9a90c6f2e10a4ea83b27"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a1e7bb98e20df9a90c6f2e10a4ea83b27">Omu_Integrator</a> ()</td></tr>
<tr class="memdesc:a1e7bb98e20df9a90c6f2e10a4ea83b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor <br/></td></tr>
<tr class="separator:a1e7bb98e20df9a90c6f2e10a4ea83b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7bc17948fefeca882ae229e62f63f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb7bc17948fefeca882ae229e62f63f8"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#adb7bc17948fefeca882ae229e62f63f8">~Omu_Integrator</a> ()</td></tr>
<tr class="memdesc:adb7bc17948fefeca882ae229e62f63f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor <br/></td></tr>
<tr class="separator:adb7bc17948fefeca882ae229e62f63f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0d993f9587270fd10163f962b34635"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a6d0d993f9587270fd10163f962b34635">name</a> ()=0</td></tr>
<tr class="memdesc:a6d0d993f9587270fd10163f962b34635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of a specific integrator.  <a href="#a6d0d993f9587270fd10163f962b34635">More...</a><br/></td></tr>
<tr class="separator:a6d0d993f9587270fd10163f962b34635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Low-level interface for Omuses employing an integrator.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The default implementations call the high-level interface. </p>
</div></td></tr>
<tr class="memitem:a91ad990fbdc7bb3b40d05aff9d04704d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a91ad990fbdc7bb3b40d05aff9d04704d">setup_stages</a> (const <a class="el" href="classOmu__Program.html">Omu_Program</a> *sys)</td></tr>
<tr class="memdesc:a91ad990fbdc7bb3b40d05aff9d04704d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup stages for integrator.  <a href="#a91ad990fbdc7bb3b40d05aff9d04704d">More...</a><br/></td></tr>
<tr class="separator:a91ad990fbdc7bb3b40d05aff9d04704d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6385f316d0869ccba266422c5d4b1af4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a6385f316d0869ccba266422c5d4b1af4">setup_struct</a> (int k, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;x, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;u, const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Ft)</td></tr>
<tr class="memdesc:a6385f316d0869ccba266422c5d4b1af4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup struct for one stage k.  <a href="#a6385f316d0869ccba266422c5d4b1af4">More...</a><br/></td></tr>
<tr class="separator:a6385f316d0869ccba266422c5d4b1af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a6f2fd7d38d1c21ca4530875046b18"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#ac1a6f2fd7d38d1c21ca4530875046b18">init_stage</a> (int k, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;x, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;u, const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Ft, bool sa=false)</td></tr>
<tr class="memdesc:ac1a6f2fd7d38d1c21ca4530875046b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize solution of differential equations for stage k.  <a href="#ac1a6f2fd7d38d1c21ca4530875046b18">More...</a><br/></td></tr>
<tr class="separator:ac1a6f2fd7d38d1c21ca4530875046b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba4fadfe0ddbda6f3a0bce5ef598d11"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#acba4fadfe0ddbda6f3a0bce5ef598d11">solve</a> (int kk, double tstart, double tend, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;x, const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;u, <a class="el" href="classOmu__Program.html">Omu_Program</a> *sys, <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Ft, <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;xt)</td></tr>
<tr class="memdesc:acba4fadfe0ddbda6f3a0bce5ef598d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve differential equations over one sample period.  <a href="#acba4fadfe0ddbda6f3a0bce5ef598d11">More...</a><br/></td></tr>
<tr class="separator:acba4fadfe0ddbda6f3a0bce5ef598d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">High-level interface for derived classes implementing an integrator.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>This interface hides details of Omuses, like the classification of variables as discrete-time states, expansion states, and control parameters.</p>
<p>Instead it treats continuous-time DAE states and sensitivity parameters. </p>
</div></td></tr>
<tr class="memitem:a32968207f9e7986c272b7d65ba73ef97"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a32968207f9e7986c272b7d65ba73ef97">init</a> (int k, const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;xc, const <a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;q, const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Fc, bool sa)</td></tr>
<tr class="memdesc:a32968207f9e7986c272b7d65ba73ef97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize integrator, like adaptation of array dimensions and test of pre-conditions, like explicit ODE.  <a href="#a32968207f9e7986c272b7d65ba73ef97">More...</a><br/></td></tr>
<tr class="separator:a32968207f9e7986c272b7d65ba73ef97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62df4019dc9ce6699e998e9f3adaff3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#ae62df4019dc9ce6699e998e9f3adaff3">solve</a> (int kk, double tstart, double tend, <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;xc, <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;dxc, <a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;q, <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Fc)</td></tr>
<tr class="memdesc:ae62df4019dc9ce6699e998e9f3adaff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve differential equations over one sample period.  <a href="#ae62df4019dc9ce6699e998e9f3adaff3">More...</a><br/></td></tr>
<tr class="separator:ae62df4019dc9ce6699e998e9f3adaff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c022cf84d8567e2cc1336f09be69c27"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a3c022cf84d8567e2cc1336f09be69c27">residual</a> (int kk, double t, const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;xc, const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;dxc, const <a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;q, <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;Fc)</td></tr>
<tr class="memdesc:a3c022cf84d8567e2cc1336f09be69c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to evaluate residuals of continuous-time equations.  <a href="#a3c022cf84d8567e2cc1336f09be69c27">More...</a><br/></td></tr>
<tr class="separator:a3c022cf84d8567e2cc1336f09be69c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Member access methods</div></td></tr>
<tr class="memitem:acb51e4a2ca3bb6c6affcb5134eab2110"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb51e4a2ca3bb6c6affcb5134eab2110"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#acb51e4a2ca3bb6c6affcb5134eab2110">K</a> () const </td></tr>
<tr class="memdesc:acb51e4a2ca3bb6c6affcb5134eab2110"><td class="mdescLeft">&#160;</td><td class="mdescRight">get number of stages for which integrator has been set up <br/></td></tr>
<tr class="separator:acb51e4a2ca3bb6c6affcb5134eab2110"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Depreciated methods.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods are called by the default implementations of hte current versions. </p>
</div></td></tr>
<tr class="memitem:abf9ed13966fed96af2454430673060bb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#abf9ed13966fed96af2454430673060bb">init_stage</a> (int k, const <a class="el" href="Omu__Vars_8h.html#a77fac138830e1ded26e6cf3fc7d67c48">Omu_States</a> &amp;x, const <a class="el" href="Omu__Variables_8h.html#a705d5aea92d111ba0ef93cfc2ae35162">Omu_Vector</a> &amp;u, bool sa=false)</td></tr>
<tr class="memdesc:abf9ed13966fed96af2454430673060bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize solution of differential equations for stage k.  <a href="#abf9ed13966fed96af2454430673060bb">More...</a><br/></td></tr>
<tr class="separator:abf9ed13966fed96af2454430673060bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a8041fb9a6eb78e69ce7a9add380aa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a73a8041fb9a6eb78e69ce7a9add380aa">solve</a> (int kk, double tstart, double tend, const <a class="el" href="Omu__Vars_8h.html#a77fac138830e1ded26e6cf3fc7d67c48">Omu_States</a> &amp;x, const <a class="el" href="Omu__Variables_8h.html#a705d5aea92d111ba0ef93cfc2ae35162">Omu_Vector</a> &amp;u, <a class="el" href="classOmu__Program.html">Omu_Program</a> *sys, <a class="el" href="classMesch_1_1VECP.html">VECP</a> xt, <a class="el" href="classMesch_1_1MATP.html">MATP</a> Sx=MNULL, <a class="el" href="classMesch_1_1MATP.html">MATP</a> Su=MNULL)</td></tr>
<tr class="memdesc:a73a8041fb9a6eb78e69ce7a9add380aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve differential equations over sample period.  <a href="#a73a8041fb9a6eb78e69ce7a9add380aa">More...</a><br/></td></tr>
<tr class="separator:a73a8041fb9a6eb78e69ce7a9add380aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab36f6fb43b004d48f8709807ad1a1b11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab36f6fb43b004d48f8709807ad1a1b11"></a>
<a class="el" href="classOmu__Program.html">Omu_Program</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#ab36f6fb43b004d48f8709807ad1a1b11">_sys</a></td></tr>
<tr class="memdesc:ab36f6fb43b004d48f8709807ad1a1b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to problem definition that is valid during solve. <br/></td></tr>
<tr class="separator:ab36f6fb43b004d48f8709807ad1a1b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacdf960ddbba517592ab144160ea4067"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacdf960ddbba517592ab144160ea4067"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#aacdf960ddbba517592ab144160ea4067">_K</a></td></tr>
<tr class="memdesc:aacdf960ddbba517592ab144160ea4067"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of stages for which integrator was set up <br/></td></tr>
<tr class="separator:aacdf960ddbba517592ab144160ea4067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9ace85623632d62c07cb9cba09f7ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d9ace85623632d62c07cb9cba09f7ca"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a5d9ace85623632d62c07cb9cba09f7ca">_k</a></td></tr>
<tr class="memdesc:a5d9ace85623632d62c07cb9cba09f7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of current stage <br/></td></tr>
<tr class="separator:a5d9ace85623632d62c07cb9cba09f7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b3362a21dae8faa036a0b88d4e79d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96b3362a21dae8faa036a0b88d4e79d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a96b3362a21dae8faa036a0b88d4e79d8">_kk</a></td></tr>
<tr class="memdesc:a96b3362a21dae8faa036a0b88d4e79d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of current sample period <br/></td></tr>
<tr class="separator:a96b3362a21dae8faa036a0b88d4e79d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a1b269eb8f70bf730f5ec75f0ae299"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64a1b269eb8f70bf730f5ec75f0ae299"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a64a1b269eb8f70bf730f5ec75f0ae299">_nxt</a></td></tr>
<tr class="memdesc:a64a1b269eb8f70bf730f5ec75f0ae299"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of DAE states <br/></td></tr>
<tr class="separator:a64a1b269eb8f70bf730f5ec75f0ae299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7796702cdb5fb61e9e721daf7dc2d268"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7796702cdb5fb61e9e721daf7dc2d268"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a7796702cdb5fb61e9e721daf7dc2d268">_nd</a></td></tr>
<tr class="memdesc:a7796702cdb5fb61e9e721daf7dc2d268"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of discrete-time states <br/></td></tr>
<tr class="separator:a7796702cdb5fb61e9e721daf7dc2d268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3301250f5ba5dad99eb561b817fad04e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3301250f5ba5dad99eb561b817fad04e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a3301250f5ba5dad99eb561b817fad04e">_nv</a></td></tr>
<tr class="memdesc:a3301250f5ba5dad99eb561b817fad04e"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of expansion variables <br/></td></tr>
<tr class="separator:a3301250f5ba5dad99eb561b817fad04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621c66d294fd47b16b0c5acedaf65d51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a621c66d294fd47b16b0c5acedaf65d51"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a621c66d294fd47b16b0c5acedaf65d51">_na</a></td></tr>
<tr class="memdesc:a621c66d294fd47b16b0c5acedaf65d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of algebraic states (no time derivative) <br/></td></tr>
<tr class="separator:a621c66d294fd47b16b0c5acedaf65d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793591072fac632e7296956ebf5f3a97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a793591072fac632e7296956ebf5f3a97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a793591072fac632e7296956ebf5f3a97">_nx</a></td></tr>
<tr class="memdesc:a793591072fac632e7296956ebf5f3a97"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of states treated by optimizer (nx=nxt-nv) <br/></td></tr>
<tr class="separator:a793591072fac632e7296956ebf5f3a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c3829f2f118bf85042e84416720f2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2c3829f2f118bf85042e84416720f2f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#ae2c3829f2f118bf85042e84416720f2f">_nu</a></td></tr>
<tr class="memdesc:ae2c3829f2f118bf85042e84416720f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of control parameters <br/></td></tr>
<tr class="separator:ae2c3829f2f118bf85042e84416720f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aabf1834bdddc58f9d4b24f6ff19ad4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5aabf1834bdddc58f9d4b24f6ff19ad4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a5aabf1834bdddc58f9d4b24f6ff19ad4">_nq</a></td></tr>
<tr class="memdesc:a5aabf1834bdddc58f9d4b24f6ff19ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of sensitivity parameters (nq=nx+nu) <br/></td></tr>
<tr class="separator:a5aabf1834bdddc58f9d4b24f6ff19ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15476f2b9c64ad1bcfb26e3e6dbe9a94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15476f2b9c64ad1bcfb26e3e6dbe9a94"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a15476f2b9c64ad1bcfb26e3e6dbe9a94">_sa</a></td></tr>
<tr class="memdesc:a15476f2b9c64ad1bcfb26e3e6dbe9a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate if sensitivity analysis is required together with solution of differential equations. <br/></td></tr>
<tr class="separator:a15476f2b9c64ad1bcfb26e3e6dbe9a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799f0d8a8e625af7f64333b5f63e45a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a799f0d8a8e625af7f64333b5f63e45a0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a799f0d8a8e625af7f64333b5f63e45a0">_serr</a></td></tr>
<tr class="memdesc:a799f0d8a8e625af7f64333b5f63e45a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean to indicate if sensitivities should be considered for error tolerance (default: false). <br/></td></tr>
<tr class="separator:a799f0d8a8e625af7f64333b5f63e45a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5980a14b65a616d7af160a9ac7d60189"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5980a14b65a616d7af160a9ac7d60189"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a5980a14b65a616d7af160a9ac7d60189">_n</a></td></tr>
<tr class="memdesc:a5980a14b65a616d7af160a9ac7d60189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of continuous-time states during integration (nxt-nd: total number minus discrete-time states). <br/></td></tr>
<tr class="separator:a5980a14b65a616d7af160a9ac7d60189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb3f0e5d5d0b773e613d40e793b79d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefb3f0e5d5d0b773e613d40e793b79d7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#aefb3f0e5d5d0b773e613d40e793b79d7">_m</a></td></tr>
<tr class="memdesc:aefb3f0e5d5d0b773e613d40e793b79d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of control parameters during integration (nd+nu: discrete-time states and actual control parameters). <br/></td></tr>
<tr class="separator:aefb3f0e5d5d0b773e613d40e793b79d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97945bb11465946f69498362e4c00db7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97945bb11465946f69498362e4c00db7"></a>
<a class="el" href="classIf__List.html">If_List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a97945bb11465946f69498362e4c00db7">_ifList</a></td></tr>
<tr class="memdesc:a97945bb11465946f69498362e4c00db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">container for interface elements <br/></td></tr>
<tr class="separator:a97945bb11465946f69498362e4c00db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750031f50f976d6f0240c4e314d7fd92"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a750031f50f976d6f0240c4e314d7fd92">_stepsize</a></td></tr>
<tr class="memdesc:a750031f50f976d6f0240c4e314d7fd92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant stepsize to be taken by integator.  <a href="#a750031f50f976d6f0240c4e314d7fd92">More...</a><br/></td></tr>
<tr class="separator:a750031f50f976d6f0240c4e314d7fd92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9674796413fc80392499d419e8d53500"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a9674796413fc80392499d419e8d53500">_min_stepsize</a></td></tr>
<tr class="memdesc:a9674796413fc80392499d419e8d53500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimal stepsize to be taken by integator.  <a href="#a9674796413fc80392499d419e8d53500">More...</a><br/></td></tr>
<tr class="separator:a9674796413fc80392499d419e8d53500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a63745026360264277ba1df93f2780"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70a63745026360264277ba1df93f2780"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a70a63745026360264277ba1df93f2780">_rtol</a></td></tr>
<tr class="memdesc:a70a63745026360264277ba1df93f2780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relative integration error tolerance (only for variable stepsize). <br/></td></tr>
<tr class="separator:a70a63745026360264277ba1df93f2780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc00becbd5e47e489b02f3e6e0c641b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6fc00becbd5e47e489b02f3e6e0c641b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a6fc00becbd5e47e489b02f3e6e0c641b">_atol</a></td></tr>
<tr class="memdesc:a6fc00becbd5e47e489b02f3e6e0c641b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Absolute integration error tolerance (only for variable stepsize). <br/></td></tr>
<tr class="separator:a6fc00becbd5e47e489b02f3e6e0c641b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a658f17866726dd47ded911efac6fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0a658f17866726dd47ded911efac6fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#ad0a658f17866726dd47ded911efac6fe">_res_evals</a></td></tr>
<tr class="memdesc:ad0a658f17866726dd47ded911efac6fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of residual evaluations <br/></td></tr>
<tr class="separator:ad0a658f17866726dd47ded911efac6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d6bad73ed0425acdd3756962b9325f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18d6bad73ed0425acdd3756962b9325f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a18d6bad73ed0425acdd3756962b9325f">_sen_evals</a></td></tr>
<tr class="memdesc:a18d6bad73ed0425acdd3756962b9325f"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of sensitivity evaluations <br/></td></tr>
<tr class="separator:a18d6bad73ed0425acdd3756962b9325f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44af25358bde74834c8028ed9cae612d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44af25358bde74834c8028ed9cae612d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOmu__Integrator.html#a44af25358bde74834c8028ed9cae612d">_jac_evals</a></td></tr>
<tr class="memdesc:a44af25358bde74834c8028ed9cae612d"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of Jacobian evaluations <br/></td></tr>
<tr class="separator:a44af25358bde74834c8028ed9cae612d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for a solver for differential (algebraic) equations. </p>
<p>The solver is employed internally to numerically integrate continuous-time model equations over sample periods and discrete-time stages. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a32968207f9e7986c272b7d65ba73ef97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>xc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize integrator, like adaptation of array dimensions and test of pre-conditions, like explicit ODE. </p>
<p>An explicit ODE is present if Fc.Jdx.is_scalar() and Fc.Jdx[0][0] != 0.0. An algebraic state j, 0&lt;=j&lt;_n can be identified with Fc.Jdx.is_zero_column[j]. Note that the init method should not find consistent initial conditions of a DAE as parameters may jump between sample periods kk afterwards. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>stage </td></tr>
    <tr><td class="paramname">xc</td><td>continuous-time states, dim(xc)=_n </td></tr>
    <tr><td class="paramname">q</td><td>sensitivity parameters, dim(q)=_nq </td></tr>
    <tr><td class="paramname">Fc</td><td>pre-initialized data structures for evaluating residuals, dim(Fc)=_n, including structurally analyzed Jacobians, dim(Fc.Jx)=_n._n, dim(Fc.Jxp)=_n._n, dim(Fc.Jq)=_n._nq </td></tr>
    <tr><td class="paramname">sa</td><td>indicates if sensitivity analysis is required </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classOmu__IntGRK4.html#a270e6207327bdd042541e4e4c3120253">Omu_IntGRK4</a>, <a class="el" href="classOmu__IntDASPK.html#aff6cd54a9a6e2c2f97238e749ca3f0b0">Omu_IntDASPK</a>, <a class="el" href="classOmu__IntSDIRK.html#a7a15ee905b1b6d2b45be3609d54142f0">Omu_IntSDIRK</a>, <a class="el" href="classOmu__IntIMP.html#a67096b39c6311ffbb47442f1b95fb7bd">Omu_IntIMP</a>, and <a class="el" href="classOmu__IntODE.html#af2f5c9040d515b35019f9221d2c5cbe3">Omu_IntODE</a>.</p>

</div>
</div>
<a class="anchor" id="ac1a6f2fd7d38d1c21ca4530875046b18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::init_stage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sa</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize solution of differential equations for stage k. </p>
<p>Note: The numbers of variables and equation structure (given in F) shall be the same for all sample periods of a stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>stage </td></tr>
    <tr><td class="paramname">x</td><td>state variables for optimization, including bounds etc. </td></tr>
    <tr><td class="paramname">u</td><td>control parameters for optimization </td></tr>
    <tr><td class="paramname">Ft</td><td>pre-initialized data structures for resisuals and Jacobians </td></tr>
    <tr><td class="paramname">sa</td><td>true if sensitivity analysis shall be performed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classOmu__IntOdeTs.html#a7ef354e57c8dfa3f9b1a520bf6687bf5">Omu_IntOdeTs</a>.</p>

</div>
</div>
<a class="anchor" id="abf9ed13966fed96af2454430673060bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::init_stage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Omu__Vars_8h.html#a77fac138830e1ded26e6cf3fc7d67c48">Omu_States</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Omu__Variables_8h.html#a705d5aea92d111ba0ef93cfc2ae35162">Omu_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sa</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize solution of differential equations for stage k. </p>

<p>Reimplemented in <a class="el" href="classOmu__IntODE.html#a87a64cca90df6899788c7dec67132235">Omu_IntODE</a>.</p>

</div>
</div>
<a class="anchor" id="a6d0d993f9587270fd10163f962b34635"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* Omu_Integrator::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of a specific integrator. </p>

<p>Implemented in <a class="el" href="classOmu__IntGRK4.html#a08ed77dbb5e33f288b27e03f07f19503">Omu_IntGRK4</a>, <a class="el" href="classOmu__IntDASPK.html#a7f5d31bfd42107fa530b8e061a1acad9">Omu_IntDASPK</a>, <a class="el" href="classOmu__IntOdeTs.html#af75fde3b5b3761f378622eab807c9dd0">Omu_IntOdeTs</a>, <a class="el" href="classOmu__IntRK4.html#a7f582471721a864ad178e299a6166c99">Omu_IntRK4</a>, <a class="el" href="classOmu__IntSDIRK.html#a22d268c110c73d4d5042735b5406496a">Omu_IntSDIRK</a>, <a class="el" href="classOmu__IntIMP.html#a419f7c0e568b5989228187e3cda5c06b">Omu_IntIMP</a>, <a class="el" href="classOmu__IntEuler.html#a6abdde70c65ddb090f5821566ffddcf1">Omu_IntEuler</a>, and <a class="el" href="classOmu__IntRKsuite.html#abff7a95c0a2b200979a4116d1d109e5b">Omu_IntRKsuite</a>.</p>

</div>
</div>
<a class="anchor" id="a3c022cf84d8567e2cc1336f09be69c27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::residual </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>xc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>dxc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Fc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback to evaluate residuals of continuous-time equations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kk</td><td>sample period </td></tr>
    <tr><td class="paramname">t</td><td>time for evaluation </td></tr>
    <tr><td class="paramname">xc</td><td>continuous-time states, dim(xc)=_n </td></tr>
    <tr><td class="paramname">dxc</td><td>derivatives of continuous-time states wrt time, dim(dxc)=_n </td></tr>
    <tr><td class="paramname">q</td><td>sensitivity parameters, dim(q)=_nq </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Fc</td><td>residuals for continuous-time equations, dim(Fc)=_n; Jacobians Fc.Jx, Fc.Jdx, Fc.Jq if Fc.is_required_J() is true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a91ad990fbdc7bb3b40d05aff9d04704d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::setup_stages </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOmu__Program.html">Omu_Program</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup stages for integrator. </p>
<p>This method is called once after <a class="el" href="classOmu__Program.html" title="Interface for a multi-stage optimization problem. ">Omu_Program</a>'s setup_stages has been performed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sys</td><td>pointer to problem definition </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6385f316d0869ccba266422c5d4b1af4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::setup_struct </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Ft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup struct for one stage k. </p>
<p>This method is called once during problem setup. Note: The numbers of variables and equation structure (given in Ft) shall be the same for all sample periods of a stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>stage </td></tr>
    <tr><td class="paramname">x</td><td>state variables for optimization, including bounds etc. </td></tr>
    <tr><td class="paramname">u</td><td>control parameters for optimization </td></tr>
    <tr><td class="paramname">Ft</td><td>pre-initialized data structures for resisuals and Jacobians </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acba4fadfe0ddbda6f3a0bce5ef598d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::solve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOmu__VariableVec.html">Omu_VariableVec</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__Program.html">Omu_Program</a> *&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>xt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solve differential equations over one sample period. </p>
<p>The differential-algebraic equations can be evaluated by calling Omu_Program::continuous for sys. Note that the first _nd elements of xt are discrete-time states that need to be treated like control parameters u by an integrator. Furthermore, the last _nv elements of xt are expansion variables that are not seen by the optimizer and accordingly no sensitivities are required with respect to them. The default implementation of solve calls the high-level version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kk</td><td>sample period </td></tr>
    <tr><td class="paramname">tstart</td><td>start time for integration </td></tr>
    <tr><td class="paramname">tend</td><td>end time for integration </td></tr>
    <tr><td class="paramname">x</td><td>state variables for optimization, including bounds etc. </td></tr>
    <tr><td class="paramname">u</td><td>control parameters for optimization </td></tr>
    <tr><td class="paramname">sys</td><td>problem definition for calling Omu_Program::continuous </td></tr>
    <tr><td class="paramname">Ft</td><td>pre-initialized data structures for resisuals and Jacobians </td></tr>
    <tr><td class="paramname">xt</td><td>start values for integration at tstart, dim(xt)=_nxt; initial sensitivity matrices xt.Sx, dim(xt.Sx)=_nxt._nx, and xt.Su, dim(xt.Su)=_nxt._nu, if _sa is true </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">xt</td><td>result at tend; xt.Sx and xt.Su at tend if _sa is true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">E_CONV</td><td>indicate that the integrator failed to converge; may be caught during optimization step length test </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classOmu__IntOdeTs.html#add4b4a72aaef42caa7cdbbbf65a1a53a">Omu_IntOdeTs</a>, and <a class="el" href="classOmu__IntODE.html#a9fbff2de193036c372afc4210e2e7cee">Omu_IntODE</a>.</p>

</div>
</div>
<a class="anchor" id="ae62df4019dc9ce6699e998e9f3adaff3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::solve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>xc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__StateVec.html">Omu_StateVec</a> &amp;&#160;</td>
          <td class="paramname"><em>dxc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__Vec.html">Omu_Vec</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__DependentVec.html">Omu_DependentVec</a> &amp;&#160;</td>
          <td class="paramname"><em>Fc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solve differential equations over one sample period. </p>
<p>Additionally solve sensitivity equations if _sa is true. The default implementation calls the depreciated solve method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kk</td><td>sample period </td></tr>
    <tr><td class="paramname">tstart</td><td>start time for integration </td></tr>
    <tr><td class="paramname">tend</td><td>end time for integration </td></tr>
    <tr><td class="paramname">xc</td><td>continuous-time states at tstart, dim(xc)=_n; sensitivities xc.Sq at tstart, dim(xc.Sq)=_n._nq, if _sa is true </td></tr>
    <tr><td class="paramname">dxc</td><td>pre-allocated time derivatives of continuous-time states, dim(dxc)=_n </td></tr>
    <tr><td class="paramname">q</td><td>sensitivity parameters, dim(q)=_nq </td></tr>
    <tr><td class="paramname">Fc</td><td>pre-allocated argument for residual calls, dim(Fc)=_n, including structurally analyzed Jacobians Fc.Jx, Fc.Jdx, Fc.Jq </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">xc</td><td>continuous-time states at tend; sensitivities xc.Sq at tend if _sa is true </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">E_CONV</td><td>indicate that the integrator failed to converge; may be caught during optimization step length test </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classOmu__IntGRK4.html#a59d6e23bf29d6c66bab3c3276ee4a94f">Omu_IntGRK4</a>, <a class="el" href="classOmu__IntDASPK.html#adf1cd40faf972be68cbe5ca9d6be7473">Omu_IntDASPK</a>, <a class="el" href="classOmu__IntSDIRK.html#afa6703a8a62d9fab5d3e3a5b71f33ae9">Omu_IntSDIRK</a>, and <a class="el" href="classOmu__IntIMP.html#a96ffd4d4895b530377f74ffbff0afeb5">Omu_IntIMP</a>.</p>

</div>
</div>
<a class="anchor" id="a73a8041fb9a6eb78e69ce7a9add380aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Omu_Integrator::solve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Omu__Vars_8h.html#a77fac138830e1ded26e6cf3fc7d67c48">Omu_States</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Omu__Variables_8h.html#a705d5aea92d111ba0ef93cfc2ae35162">Omu_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOmu__Program.html">Omu_Program</a> *&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesch_1_1VECP.html">VECP</a>&#160;</td>
          <td class="paramname"><em>xt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesch_1_1MATP.html">MATP</a>&#160;</td>
          <td class="paramname"><em>Sx</em> = <code>MNULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesch_1_1MATP.html">MATP</a>&#160;</td>
          <td class="paramname"><em>Su</em> = <code>MNULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solve differential equations over sample period. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9674796413fc80392499d419e8d53500"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Omu_Integrator::_min_stepsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimal stepsize to be taken by integator. </p>
<p>Default: 0.0, i.e. no limitation. </p>

</div>
</div>
<a class="anchor" id="a750031f50f976d6f0240c4e314d7fd92"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Omu_Integrator::_stepsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant stepsize to be taken by integator. </p>
<p>For stepsize&gt;0, an integrator takes ceil((tend-tstart)/stepsize) equidistant steps in the sampling interval [tstart,tend]. Default: 0.0, i.e. integrator chooses own stepsize. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Omu__Integrator_8h.html">Omu_Integrator.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classOmu__Integrator.html">Omu_Integrator</a></li>
    <li class="footer">Generated on Sat Jan 25 2014 15:52:37 for HQP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
