<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>HQP: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HQP
   &#160;<span id="projectnumber">1.9.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('installation.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview</h2>
<p>This source code distribution uses the GNU autoconf/make mechanism.</p>
<p>HQP can be compiled and tested by invoking: <br/>
<code> $ ./configure <br/>
 $ make </code><br/>
</p>
<p>Basically two libraries are built: hqp and omu. Furthermore an example is created in <code>./hqp_docp</code>, testing HQP alone, and a demo collection in <code>./odc</code>, testing HQP together with the front-end Omuses.</p>
<p>An up-to-date reference documentation can be created from the sources using Doxygen with <br/>
<code> $ make doc </code><br/>
</p>
<p>The results of make (object codes, lib, executables) can be removed with <br/>
<code> $ make clean </code><br/>
</p>
<p>The results of make and configure (makefiles) can removed with <br/>
<code> $ make distclean </code><br/>
</p>
<h2>Installation details</h2>
<h3>Required software</h3>
<p>The compilation of HQP relies on the following software: </p>
<ul>
<li>
an sh-compatible command interpreter (see IEEE POSIX Shell and Tools spec) </li>
<li>
GNU make </li>
<li>
a compiler for C, C++ and optionally Fortran 77 </li>
</ul>
<p>Moreover, HQP uses the Tool Command Language </p>
<ul>
<li>
Tcl version 8.1 or higher (typically packages <code>tcl</code> for the runtime and <code>tcl-dev</code> for include files) </li>
</ul>
<h3>Detailed installation steps</h3>
<ol>
<li>
<p class="startli">Unpack the distribution file by invoking <br/>
<code> tar -xzf hqp&lt;version&gt;.tar.gz </code><br/>
 This creates the new directory hqp containing everything.  </p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">cd to the created directory and invoke <br/>
<code> ./configure </code><br/>
 This creates the files ./makedirs, ./makedefs ./odc/Makefile, ./hqp_docp/Makefile, lib/pkgIndex.tcl, and ./doc/Doxyfile. Following options can be specified:</p>
<p></p>
<p><b>Feature options:</b></p>
<dl>
<dt>--enable-adolc </dt>
<dd>Include code that uses ADOL-C for automatic differentiation as part of Omuses. This simplifies the manual implementation of optimization programs. See the Odc demo collection, e.g. ./odc/Prg_BatchReactor.[hC] using ADOL-C vs. ./odc/Prg_BatchReactor_bare.[hC] accessing lower level interfaces.<br/>
 Additionally you may specify: <dl>
<dt>--with-adolc </dt>
<dd>Directory prefix of ADOL-C installation, e.g. <pre>--with-adolc=/usr</pre> </dd>
</dl>
</dd>
<dt>--enable-fortran </dt>
<dd>Include the numerical integration routines RKsuite and optionally DASPK with libomu (see also daspk/README). This requires an f77 compiler on your machine. Note: The automatic settings done by ./configure are for gfortran. Please check the variables FORTRAN_* in ./makedefs. </dd>
<dt>--enable-mex </dt>
<dd>Include MEX S-function interface with Omuses. This requires MATLAB&reg; and Simulink&reg; on your machine for include files declaring data structures and for runtime libs implementing mxArray.<br/>
 Additionally you may specify: <dl>
<dt>--with-matlab </dt>
<dd>Root directory of MATLAB&reg; installation, e.g. <pre>--with-matlab=/usr/local/matlab</pre> </dd>
<dt>--with-matlab-libs </dt>
<dd>Directory containing MATLAB&reg; runtime libraries, e.g. <pre>--with-matlab-libs=/usr/local/matlab/extern/lib/glnx86</pre> </dd>
</dl>
</dd>
<dt>--enable-cute </dt>
<dd>Include CUTE interface with HQP. </dd>
<dt>--enable-ascend </dt>
<dd>Include current preliminary version of an interface to Ascend4. This requires that this distribution is unpacked in the directory of the Ascend distribution, e.g. in /home/myname/ascendiv-0.9 (for Ascend see <a href="http://www.cs.cmu.edu/~ascend/Home.html">http://www.cs.cmu.edu/~ascend/Home.html</a>) </dd>
</dl>
<p></p>
<p><b>Installation options:</b></p>
<dl>
<dt>--prefix=PATH </dt>
<dd>Path where you'd like to install the libraries and include files (default is /usr/local). </dd>
</dl>
<p></p>
<p>Build options:</p>
<dl>
<dt>--disable-shared (--enable-shared) </dt>
<dd>Build shared (static) libraries. Shared is default, except for Windows, where building a DLL is somewhat tricky. Shared libraries are required if Hqp/Omuses shall be used as package extending a Tcl application. </dd>
<dt>--enable-symbols </dt>
<dd>build debug version, including symbolic information </dd>
<dt>--enable-gmalloc </dt>
<dd>Use GNU malloc instead of the system routines. Gmalloc will be enabled automatically if your system malloc doesn't work properly (e.g. under DEC OSF). According to the authors experience gmalloc doesn't work on all machines, but fortunately it does where it's needed :-) </dd>
</dl>
<p></p>
<p><b>Use a specific Tcl installation, which is not found automatically:</b></p>
<dl>
<dt>--with-tcl </dt>
<dd>Directory containing Tcl configuration file tclConfig.sh, e.g. <pre>--with-tcl=/usr/local/lib</pre> </dd>
<dt>--with-tclinclude </dt>
<dd>Directory containing include file tcl.h. </dd>
</dl>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Compile the distribution by invoking <br/>
<code> make </code><br/>
 (or <br/>
<code> make -f Makefile.hqp </code><br/>
 to skip building Omuses and Odc) </p>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Directly after compilation, a test run of an example in ./odc is performed automatically that should produce the result "optimal". Some more examples are given in ./odc (please see also the documentation in ./doc). </p>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Optionally install the libraries and includes by invoking <br/>
<code> make install </code><br/>
 The following directories and files are created: <br/>
</p>
<pre>
     $prefix / lib     / Hqp&lt;version&gt; / pkgIndex.tcl
                       / libhqp-&lt;version&gt;.so
                       / libomu-&lt;version&gt;.so
                       / libhqp.so -&gt; libhqp-&lt;version&gt;.so
                       / libomu.so -&gt; libomu-&lt;version&gt;.so
             / include / hqp-&lt;version&gt; / *.h
                       / hqp -&gt; hqp-&lt;version&gt;
</pre><p><br/>
</p>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">See <code>./hqp_docp/README</code> if you want to use HQP directly for multistage optimization, bypassing Omuses (no support for differential equations or automatic differentiation). </p>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">See ./hqp_cute/README if you want to use HQP in the testing environment CUTE. </p>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Get in contact with the developers through <a href="https://github.com/omuses/hqp">GitHub</a>. </p>
<p class="endli"></p>
</li>
</ol>
<h3>Using alternative compilers</h3>
<p>Gernerally for using an other compiler, say cl, invoke <br/>
<code> CC=cl ./configure </code><br/>
</p>
<h3>Hints for compiling under Windows</h3>
<p>The POSIX/GNU build tools are still needed (tar, gzip, sh, make, patch). They are provided for Windows by <a href="http://www.mingw.org">MinGW</a> or <a href="http://www.cygwin.com">Cygwin</a>. These environments also include gcc and tcl, besides more.</p>
<p>Alternatively the native Windows compiler cl can be configured for the actual compilation (CC=cl ./configure), provided it finds in the PATH environment &ndash; the Visual Studio Command Prompt that comes with Visual Studio Tools sets the path; the POSIX shell for building HQP might be started from there. Tcl should be installed from a binary distribution available for Windows in this case and configured via <code>&ndash;with-tcl</code> (see above).</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 1 2014 13:08:38 for HQP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
